<!DOCTYPE html>
<html>
  <head>
    <title>AIRmagedon</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", media: "all" %>
    <%= javascript_include_tag "application" %>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  </head>
  <body>
    <!-- MOBILE LAYOUT -->
    <div class="d-block d-md-none">
      <nav class="navbar fixed-top scrolling-navbar navbar-default-mobile">
        <%= link_to root_path do %>
          <div class="navbar-brand color">
            <i class="material-icons">home</i>
          </div>
        <% end %>
        <ul class="navbar-nav">
          <li class="nav-item menu-icon">
            <div class="hamburger"></div>
          </li>
        </ul>
      </nav>
    </div>
    <div class="meniu d-block d-md-none">
      <% if user_signed_in? %>
        <p class="user-mobile">Zalogowany jako<span class="user-mobile-nick"> <%= current_user.login %></span></p><br>
        <%= link_to "Edycja profilu", edit_user_registration_path, class: 'nav-link color' %>
        <% if current_user.is_admin %>
          <%= link_to "Ustawienia", installations_path, class: 'nav-link color' %>
        <% end %>
        <%= link_to "System ostrzegania", subscriptions_path, class: 'nav-link color'%>
        <%= link_to "O aplikacji", about_path, class: 'nav-link color' %>
        <%= link_to "Wyloguj", destroy_user_session_path, method: :delete, class: 'nav-link color'  %>
      <% else %>
        <%= link_to "Zarejestruj się", new_user_registration_path, class: 'nav-link color'  %>
        <%= link_to "Zaloguj", new_user_session_path, class: 'nav-link color'  %>
      <% end %>
          
      <% if notice %>
            <p class="alert alert-success"><%= notice %></p>
            <script>
              setTimeout(() => {
                document.querySelector('.alert').remove();
              }, 1500); 
            </script>
          <% end %>
          <% if alert %>
            <p class="alert alert-danger"><%= alert %></p>
            <script>
              setTimeout(() => {
                document.querySelector('.alert').remove();
              }, 1500); 
            </script>
          <% end %>
    </div>
    <!-- END OF MOBILE LAYOUT -->
<!-- =========================== -->
    <!-- TABLETS -->
    <div class="d-none d-md-block d-lg-none">
      <nav class="navbar fixed-top scrolling-navbar navbar-default-mobile">
        <%= link_to root_path do %>
          <div class="navbar-brand color">
            <i class="material-icons">home</i>
          </div>
        <% end %>
        <ul class="navbar-nav">
          <li class="nav-item menu-icon">
            <div class="hamburger"></div>
          </li>
        </ul>
      </nav>
    </div>
    <div class="meniu d-none d-md-block d-lg-none">
      <% if user_signed_in? %>
        <p class="user-mobile">Zalogowany jako<span class="user-mobile-nick"> <%= current_user.login %></span></p><br>
        <%= link_to "Edycja profilu", edit_user_registration_path, class: 'nav-link color' %>
        <% if current_user.is_admin %>
          <%= link_to "Ustawienia", installations_path, class: 'nav-link color' %>
        <% end %>
        <%= link_to "System ostrzegania", subscriptions_path, class: 'nav-link color'%>
        <%= link_to "O aplikacji", about_path, class: 'nav-link color' %>
        <%= link_to "Wyloguj", destroy_user_session_path, method: :delete, class: 'nav-link color'  %>
      <% else %>
        <%= link_to "Zarejestruj się", new_user_registration_path, class: 'nav-link color'  %>
        <%= link_to "Zaloguj", new_user_session_path, class: 'nav-link color'  %>
      <% end %>
          
      <% if notice %>
            <p class="alert alert-success"><%= notice %></p>
            <script>
              setTimeout(() => {
                document.querySelector('.alert').remove();
              }, 1500); 
            </script>
          <% end %>
          <% if alert %>
            <p class="alert alert-danger"><%= alert %></p>
            <script>
              setTimeout(() => {
                document.querySelector('.alert').remove();
              }, 1500); 
            </script>
          <% end %>
    </div>
    <!-- END OF TABLETS LAYOUT -->
<!-- =========================== -->
    <!-- DESKTOPS --> 
    <div class="d-none d-lg-block">
      <nav class="navbar fixed-top navbar-expand-lg navbar-default scrolling-navbar" id="nav-scroll">
        <%= link_to "SO AIR", root_path, class: 'navbar-brand color' %>
        <ul class="navbar-nav ml-auto">
          <% if user_signed_in? %>
            <li class="nav-item">
              <p class="nav-link active user-class"><%= current_user.login %></p>
            </li>
            <li class="nav-item">
              <%= link_to "Edycja profilu", edit_user_registration_path, class: 'nav-link color' %>
            </li>
            <% if current_user.is_admin %>
              <li class="nav-item">
                <%= link_to "Ustawienia", installations_path, class: 'nav-link color' %>
              </li>
            <% end %>
            <li class="nav-item">
              <%= link_to "System ostrzegania", subscriptions_path, class: 'nav-link color'%>
            </li>
            <li class="nav-item">
              <%= link_to "O aplikacji", about_path, class: 'nav-link color' %>
            </li>
            <li class="nav-item">
              <%= link_to "Wyloguj", destroy_user_session_path, method: :delete, class: 'nav-link color'  %>
            </li>
          <% else %>
            <%= link_to "Zarejestruj się", new_user_registration_path, class: 'nav-link color'  %>
            <%= link_to "Zaloguj", new_user_session_path, class: 'nav-link color'  %>
          <% end %>
          <% if notice %>
            <p class="alert alert-success"><%= notice %></p>
            <script>
              setTimeout(() => {
                document.querySelector('.alert').remove();
              }, 1500); 
            </script>
          <% end %>
          <% if alert %>
            <p class="alert alert-danger"><%= alert %></p>
            <script>
              setTimeout(() => {
                document.querySelector('.alert').remove();
              }, 1500); 
            </script>
          <% end %>
        </ul>   
      </nav>
    </div>
    <!-- END OF DESKTOPS -->
    <%= yield %>
  </body>
</html>